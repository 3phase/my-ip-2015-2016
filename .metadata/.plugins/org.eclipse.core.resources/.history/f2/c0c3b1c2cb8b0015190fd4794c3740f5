package org.elsysbg.ip.socket_project;

import java.util.HashMap;
import java.util.Map;

public class Register {

	private static Map<String, Integer[]> loggedUsers = new HashMap<>();
	
	public Register() {
		// TODO Auto-generated constructor stub
	}
	
	public void request_login(String username) {
		if (check_if_logged(username) == 0) {
			create_user(username);
		}
	}
	
	private void create_user(String username) {
		// TODO Auto-generated method stub
		
	}

	public int get_attendances(String username) throws Exception {
		if (check_if_logged(username) == 0)
			return -1;
		try {
			return loggedUsers.get(username)[0];
		} catch(Exception e) {
			System.out.println("Log with this username is unavilable");
			return -1;
		}
	}
	
	private void attends(String username) {
		if (check_if_logged(username) == 0)
			return;
		try {
			++(loggedUsers.get(username)[0]);
		} catch (Exception e) {
			System.out.println("Log with this username is unavilable");
			return;
		}
	}
	
	private int check_if_logged(String username) {
		if (loggedUsers.get(username)[1] != 1) {
			System.out.println("You have to be logged in to view such information.");
			return 0;
		}
		return 1;
	}
	
}
